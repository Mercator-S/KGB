@inject IDialogService DialogService
@page "/"
@using KGB_Dev_.Data.KGB_Model
@using static System.Net.WebRequestMethods

<PageTitle>KGB List</PageTitle>

<MudGrid Class="d-flex align-center justify-center">
    <MudItem xs="9">
        <MudTable Items="@ListOfKGB" Dense="true" Hover="true" Striped="true" Filter="new Func<KGB_Knowledge,bool>(SearchTable1)">
            <ToolBarContent>
                <MudText Typo="Typo.h6">KGB tabela</MudText>
                <MudSpacer />
                <MudTextField @bind-Value="searchString1" Immediate="true" Placeholder="Search" Adornment="Adornment.Start"  AdornmentIcon="@Icons.Material.Filled.Search" IconSize="Size.Medium" Class="mt-0"></MudTextField>
            </ToolBarContent>
            <HeaderContent>
                <MudTh>Sifra prijave</MudTh>
                <MudTh>Naziv prijave</MudTh>
                <MudTh>Datum unosa</MudTh>
                <MudTh>Korisnik</MudTh>
                <MudTh></MudTh>
            </HeaderContent>
            <RowTemplate>
                <MudTd DataLabel="Sifra prijave">@context.Id</MudTd>
                <MudTd DataLabel="Naziv prijace">@context.Naziv_Prijave</MudTd>
                <MudTd DataLabel="Datum unosa">@context.d_ins.ToString("dd/MM/yyyy")</MudTd>
                <MudTd DataLabel="Korisnik">@context.k_ins</MudTd>
                <MudTd><MudIconButton OnClick="@(() => Show(context.Id))" Icon="@Icons.Filled.MoreHoriz" Color="@Color.Success"></MudIconButton></MudTd>
            </RowTemplate>
            <PagerContent>
                <MudTablePager HorizontalAlignment="HorizontalAlignment.Center" />
            </PagerContent>
        </MudTable>
    </MudItem>
</MudGrid>
